import{a as d,b as m,T as w,w as N}from"./services.99864b47.js";import{d as T,_ as v,o as h,x as C,r,z as V,b as a,w as n,a as l,j as s,H as o,h as $,p as M,E as S,c as b,V as g,A as y}from"./index.4ac873d2.js";const q=T({name:"TaskStargateBridge",props:{weight:{type:Number,required:!0},disabled:{type:Boolean,required:!0},arg:{type:Object,required:!1}},watch:{item:{handler(){this.$emit("stepChanged",this.getTask())},deep:!0}},data(){return{networks:[d.BinanaceBNB,d.ARBITRUM,d.OPTIMISM,d.Etherium,d.POLIGON,d.AVALANCHE],tokens:[m.USDC,m.USDT,m.ETH,m.STG],item:{fromNetwork:d.ARBITRUM,toNetwork:d.OPTIMISM,fromToken:m.USDC,toToken:m.USDC},required:e=>!!e||"required"}},methods:{getTask(){return{weight:this.weight.toString(),stargateBridgeTask:this.item,taskType:w.StargateBridge,description:JSON.stringify(this.item)}},async validateForm(){const{valid:e}=await this.$refs["stargate-bridge-form"].validate();return e},inputChanged(){return this.validateForm()}},computed:{GetToNetworks(){return this.networks.filter(e=>e!==this.item.fromNetwork)}},created(){this.$emit("stepChanged",this.getTask()),this.arg&&(this.item=this.arg)}}),I={class:"pa-3"},c=r("div",{class:"mb-3"},[M("use "),r("a",{href:"https://stargate.finance/transfer",target:"_blank"},"stargate swap"),M(" to see available swap options ")],-1);function U(e,t,u,k,p,R){return h(),C("div",I,[r("h3",null,V(`${e.weight}) StargateBridge`),1),r("div",null,[a($,null,{default:n(()=>[c,a(l,null,{default:n(()=>[a(s,null,{default:n(()=>[a(o,{ref:"stargate-bridge-form",density:"compact",variant:"outlined",label:"from network",onChange:e.inputChanged,rules:[e.required],items:e.networks,modelValue:e.item.fromNetwork,"onUpdate:modelValue":t[0]||(t[0]=i=>e.item.fromNetwork=i),disabled:e.disabled},null,8,["onChange","rules","items","modelValue","disabled"]),a(o,{density:"compact",variant:"outlined",label:"from token",onChange:e.inputChanged,rules:[e.required],items:e.tokens,modelValue:e.item.fromToken,"onUpdate:modelValue":t[1]||(t[1]=i=>e.item.fromToken=i),disabled:e.disabled},null,8,["onChange","rules","items","modelValue","disabled"])]),_:1}),a(s,null,{default:n(()=>[a(o,{density:"compact",variant:"outlined",label:"to network",onChange:e.inputChanged,rules:[e.required],items:e.GetToNetworks,modelValue:e.item.toNetwork,"onUpdate:modelValue":t[2]||(t[2]=i=>e.item.toNetwork=i),disabled:e.disabled},null,8,["onChange","rules","items","modelValue","disabled"]),a(o,{density:"compact",variant:"outlined",onChange:e.inputChanged,label:"to token",items:e.tokens,rules:[e.required],modelValue:e.item.toToken,"onUpdate:modelValue":t[3]||(t[3]=i=>e.item.toToken=i),disabled:e.disabled},null,8,["onChange","items","rules","modelValue","disabled"])]),_:1})]),_:1})]),_:1})])])}const B=v(q,[["render",U]]),E=T({name:"TaskDelay",props:{weight:{type:Number,required:!0},disabled:{type:Boolean,required:!0},arg:{type:Object,required:!1}},watch:{duration:{handler(){this.$emit("stepChanged",this.getTask())}},random:{handler(){this.$emit("stepChanged",this.getTask())}},minRandom:{handler(){this.$emit("stepChanged",this.getTask())}},maxRandom:{handler(){this.$emit("stepChanged",this.getTask())}}},data(){return{duration:"0",random:!1,minRandom:"0",maxRandom:"3600",required:e=>!!e||"required"}},methods:{getTask(){return{weight:this.weight.toString(),delayTask:{duration:this.duration?this.duration:"0",random:this.random,minRandom:this.minRandom,maxRandom:this.maxRandom},taskType:w.Delay,description:this.random?JSON.stringify({min:this.minRandom,max:this.maxRandom}):JSON.stringify(this.duration)}},async validateForm(){const{valid:e}=await this.$refs["delay-form"].validate();return e},CheckboxChanged(){console.log(this.random)},HumanDuration(e){let t=Number(e);const u=Math.floor(t/3600);t%=3600;const k=Math.floor(t/60),p=t%60;return`${u} hours ${k} minutes ${p} seconds`},inputChanged(){return this.duration=this.duration.toString().replace(/^0+/,""),this.validateForm()}},computed:{getDuration(){return this.HumanDuration(this.duration)}},created(){this.$emit("stepChanged",this.getTask()),this.arg&&(this.duration=this.arg.duration,this.random=this.arg.random,this.minRandom=this.arg.minRandom?this.arg.minRandom:this.minRandom,this.maxRandom=this.arg.maxRandom?this.arg.maxRandom:this.maxRandom)}}),D={class:"pa-3"},O=r("br",null,null,-1);function G(e,t,u,k,p,R){return h(),C("div",D,[r("h3",null,V(`${e.weight}) Delay`),1),r("div",null,[O,a($,null,{default:n(()=>[a(l,null,{default:n(()=>[a(S,{disabled:e.disabled,density:"compact",focused:"",name:"randomize",modelValue:e.random,"onUpdate:modelValue":t[0]||(t[0]=i=>e.random=i),label:"randomize",onInput:e.CheckboxChanged},null,8,["disabled","modelValue","onInput"])]),_:1}),e.random?y("",!0):(h(),b(l,{key:0},{default:n(()=>[a(g,{ref:"delay-form",density:"compact",variant:"outlined",onChange:e.inputChanged,label:"Duration in seconds",rules:[e.required],modelValue:e.duration,"onUpdate:modelValue":t[1]||(t[1]=i=>e.duration=i),disabled:e.disabled||e.random,messages:e.getDuration},null,8,["onChange","rules","modelValue","disabled","messages"])]),_:1})),e.random?(h(),b(l,{key:1},{default:n(()=>[a(s,null,{default:n(()=>[a(g,{ref:"delay-form",density:"compact",variant:"outlined",onChange:e.inputChanged,label:"min duration in seconds",rules:[e.required],modelValue:e.minRandom,"onUpdate:modelValue":t[2]||(t[2]=i=>e.minRandom=i),disabled:e.disabled,messages:e.HumanDuration(e.minRandom)},null,8,["onChange","rules","modelValue","disabled","messages"])]),_:1}),a(s,null,{default:n(()=>[a(g,{ref:"delay-form",density:"compact",variant:"outlined",onChange:e.inputChanged,label:"max duration in seconds",rules:[e.required],modelValue:e.maxRandom,"onUpdate:modelValue":t[3]||(t[3]=i=>e.maxRandom=i),disabled:e.disabled,messages:e.HumanDuration(e.maxRandom)},null,8,["onChange","rules","modelValue","disabled","messages"])]),_:1})]),_:1})):y("",!0)]),_:1})])])}const A=v(E,[["render",G]]),L=T({name:"TaskExchangeWithdraw",props:{weight:{type:Number,required:!0},disabled:{type:Boolean,required:!0},task:{type:Object,required:!1,deep:!0}},watch:{"item.withdrawerId":{handler(){this.withdrawerChanged(),this.validateWithdrawId(),this.$emit("stepChanged",this.getTask())}},"item.token":{handler(){this.tokenChanged(),this.validateToken(),this.$emit("stepChanged",this.getTask())}},"item.network":{handler(){this.validateNetwork(),this.$emit("stepChanged",this.getTask())}},"item.amountMax":{handler(){this.validateMax(),this.$emit("stepChanged",this.getTask())}},"item.amountMin":{handler(){this.validateMin(),this.$emit("stepChanged",this.getTask())}}},data(){return{optionsLoading:!1,networks:[],tokens:[],withdrawers:[],item:{token:"",amountMax:"",amountMin:"",withdrawerId:"",network:""},options:new Map}},methods:{withdrawIdRules(){return[e=>!!this.item.withdrawerId||"required"]},tokenRules(){return[e=>!!this.item.token||"required"]},networkRules(){return[e=>!!this.item.network||"required"]},getMinRules(){return[e=>!!this.item.amountMin||"required"]},getMaxRules(){return[e=>!!this.item.amountMin||"required",e=>Number(this.item.amountMin)>Number(this.item.amountMax)?"min > max":!0]},GetTokenTitle(e){return e?e.token+" - "+e.amount:""},GetNetworkTitle(e){return e?`${e.network} min:${e.minAmount} max:${e.maxAmount} fee:${e.fee}`:""},tokenChanged(){if(this.item.token){const e=this.options.get(this.item.token);e&&e.forEach(t=>{this.networks.push({network:t.network,title:this.GetNetworkTitle(t)})})}},async withdrawerChanged(){if(this.item.withdrawerId)try{this.optionsLoading=!0,(await N.withdrawerServiceGetExchangeWithdrawOptions({body:{withdrawerId:this.item.withdrawerId}})).tokens.forEach(t=>{const u={token:t.token,title:this.GetTokenTitle(t)};this.tokens.push(u),this.options.set(t.token,t.networks)})}finally{this.optionsLoading=!1}},getTask(){return{weight:this.weight.toString(),withdrawExchangeTask:this.item,taskType:w.WithdrawExchange,description:JSON.stringify(this.item)}},async validateWithdrawId(){const{valid:e}=await this.$refs["exchange-withdraw-form-withdraw-id"].validate();return e},async validateToken(){const{valid:e}=await this.$refs["exchange-withdraw-form-token"].validate();return e},async validateNetwork(){const{valid:e}=await this.$refs["exchange-withdraw-form-network"].validate();return e},async validateMin(){const{valid:e}=await this.$refs["exchange-withdraw-form-min"].validate();return e},async validateMax(){const{valid:e}=await this.$refs["exchange-withdraw-form-max"].validate();return e}},computed:{GetNetworks(){return this.networks}},async created(){this.$emit("stepChanged",this.getTask()),this.task&&this.task.withdrawExchangeTask&&(this.item=this.task.withdrawExchangeTask);try{const e=await N.withdrawerServiceListWithdrawer();this.withdrawers=e.withdrawers}finally{}this.task&&this.task.withdrawExchangeTask&&(this.item=this.task.withdrawExchangeTask)}}),W={class:"pa-3"};function H(e,t,u,k,p,R){return h(),C("div",W,[r("h3",null,V(`${e.weight}) Exchange withdraw`),1),r("div",null,[a($,null,{default:n(()=>[a(l,null,{default:n(()=>[a(s,null,{default:n(()=>[a(o,{ref:"exchange-withdraw-form-withdraw-id",density:"compact",variant:"outlined",label:"select withdrawer",rules:e.withdrawIdRules(),items:e.withdrawers,"item-value":"id","item-title":"label",modelValue:e.item.withdrawerId,"onUpdate:modelValue":t[0]||(t[0]=i=>e.item.withdrawerId=i),disabled:e.disabled},null,8,["rules","items","modelValue","disabled"])]),_:1})]),_:1}),e.item.withdrawerId?(h(),b(l,{key:0},{default:n(()=>[a(s,null,{default:n(()=>[a(o,{ref:"exchange-withdraw-form-token",density:"compact",variant:"outlined",label:"select token",rules:e.tokenRules(),items:e.tokens,"item-title":"title","item-value":"token",modelValue:e.item.token,"onUpdate:modelValue":t[1]||(t[1]=i=>e.item.token=i),disabled:e.disabled,loading:e.optionsLoading},null,8,["rules","items","modelValue","disabled","loading"])]),_:1}),a(s,null,{default:n(()=>[a(o,{ref:"exchange-withdraw-form-network",density:"compact",variant:"outlined",label:"network","item-value":"network","item-title":"title",rules:e.networkRules(),items:e.GetNetworks,modelValue:e.item.network,"onUpdate:modelValue":t[2]||(t[2]=i=>e.item.network=i),disabled:e.disabled,loading:e.optionsLoading},null,8,["rules","items","modelValue","disabled","loading"])]),_:1})]),_:1})):y("",!0),a(l,null,{default:n(()=>[a(s,null,{default:n(()=>[a(g,{ref:"exchange-withdraw-form-min",type:"number",label:"min amount",density:"compact",variant:"outlined",rules:e.getMinRules(),disabled:e.disabled,modelValue:e.item.amountMin,"onUpdate:modelValue":t[3]||(t[3]=i=>e.item.amountMin=i)},null,8,["rules","disabled","modelValue"])]),_:1}),a(s,null,{default:n(()=>[a(g,{ref:"exchange-withdraw-form-max",type:"number",label:"max amount",density:"compact",variant:"outlined",rules:e.getMaxRules(),disabled:e.disabled,modelValue:e.item.amountMax,"onUpdate:modelValue":t[4]||(t[4]=i=>e.item.amountMax=i)},null,8,["rules","disabled","modelValue"])]),_:1})]),_:1})]),_:1})])])}const F=v(L,[["render",H]]),f=new Map;f.set(w.Delay,A);f.set(w.StargateBridge,B);f.set(w.WithdrawExchange,F);const j=[];for(let e of f.keys())j.push(e);export{f as s,j as t};
