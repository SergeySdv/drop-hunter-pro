import{h as t}from"./services.99864b47.js";import{D as a}from"./helper.8a7057fb.js";import{d as i,_ as s,c as n,V as p,o as d}from"./index.4ac873d2.js";const l=i({name:"ProxyInput",props:{required:{type:Boolean,required:!0},modelValue:{type:String,required:!1}},emits:["update:modelValue"],computed:{proxy:{get(){return this.modelValue?this.modelValue:""},async set(e){await this.proxyChanged(),this.$emit("update:modelValue",e)}}},data(){return{proxyStat:"",proxyLoading:!1}},methods:{proxyRules(){return[async e=>{if(this.required&&!this.proxy)return"Proxy required";if(!this.proxy)return!0;const r=await t.helperServiceValidateProxy({body:{proxy:this.proxy}});return r.valid?(this.proxyStat=`${r.ip} ${r.countryName} [${r.countryCode}]`,!0):r.errorMessage}]},async validateProxy(){const{valid:e}=await this.$refs["proxy-input"].validate();return e},async proxyChanged(){const e=this.proxy;if(await a(1e3),e!==this.proxy){if(this.proxyLoading=!0,!await this.validateProxy()){this.proxyLoading=!1;return}this.proxyLoading=!1}}}});function u(e,r,y,x,m,h){return d(),n(p,{ref:"proxy-input",label:"SOCKS5 proxy in format <ip:port:login:password>",messages:e.proxyStat,rules:e.proxyRules(),onInput:e.proxyChanged,modelValue:e.proxy,"onUpdate:modelValue":r[0]||(r[0]=o=>e.proxy=o),density:"comfortable",variant:"outlined",loading:e.proxyLoading,disabled:e.proxyLoading},null,8,["messages","rules","onInput","modelValue","loading","disabled"])}const V=s(l,[["render",u]]);export{V as P};
